设计模式-单例模式


1.单例，无论懒汉式，饿汉式，内部类实现方式，都可能出现反射、反序列化破坏单例
    在私有构造函数中加入判断防止反射破坏
    在加入了序列化接口的且需要单例的类中加入私有的 readResolve，防止反序列化破坏单例<br/>
2.枚举式单例，可以有效防止反射、反序列化破坏单例<br/>
3.容器式单例,加上doublecheck 可以解决容器内部数据的单例，但无法保证容器本身的单例(如map)被反序列化。
  因此不应该开放该容器的访问权限(map的直接访问权限)。
  使用中避免放射取出该容器直接操作。
    